
@model List<Equipment>
@{
    ViewBag.Title = "Summary";
    if (Convert.ToInt32(Session["Level"]) == 8)
    {
        Layout = "~/Views/Layout/LayoutHome.cshtml";
    }
    else if (Convert.ToInt32(Session["Level"]) == 9)
    {
        Layout = "~/Views/Layout/TenantLayout.cshtml";
    }
}
@using (Html.BeginForm("Summary", "Reserve", FormMethod.Post))
{
	@Html.AntiForgeryToken()
	<head>



		<style>

			.input {
				padding: 12px 20px;
				margin: 8px 0;
				display: inline-block;
				border: 1px solid #ccc;
				border-radius: 4px;
				box-sizing: border-box;
				width: 10%;
			}


			.col-25 {
				float: left;
				width: 25%;
				margin-top: 6px;
			}


			.col-75 {
				float: left;
				margin-top: 6px;
			}

			label {
				padding: 12px 12px 12px 0;
				display: inline-block;
			}

			.row:after {
				content: "";
				display: table;
				clear: both;
			}

			.button {
				padding: 15px 25px;
				font-size: 15px;
				text-align: center;
				cursor: pointer;
				outline: none;
				color: #fff;
				background-color: #18ac6f;
				border: none;
				border-radius: 5px;
				float: right;
				text-decoration: none;
				text-decoration-color: none;
			}



				.button:hover {
					background-color: #46bc8b;
				}
		</style>
	</head>
	<body>
		<br />
		<center>
			<div>
				<div class="progress" style="width:860px; height:40px;">
					<div class="progress-bar progress-bar-success " role="progressbar" aria-valuenow="20"
						 aria-valuemin="0" aria-valuemax="100" style="width:20%;">
						<a href="@Url.Action("Amenity","Reserve")" style="text-decoration:none;"><p style="font-family:Arial, Helvetica, sans-serif; padding-top:1em"> <font color="white" size="3">Choose Amenity</font></p></a>
					</div>


					<div class="progress-bar progress-bar-success " style="width:20%;" role="progressbar" aria-valuenow="0"
						 aria-valuemin="0" aria-valuemax="100">
						<a href="@Url.Action("Calendar","Reserve")" style="text-decoration:none;"><p style="font-family:Arial, Helvetica, sans-serif;padding-top:1em"> <font color="white" size="3">Scheduled Amenity</font> </p></a>
					</div>


					<div class="progress-bar progress-bar-success" style="width:20%;" role="progressbar" aria-valuenow="0"
						 aria-valuemin="0" aria-valuemax="100">
						<a href="@Url.Action("Choose_Date","Reserve")" style="text-decoration:none;"><p style="font-family:Arial, Helvetica, sans-serif;padding-top:1em"> <font color="white" size="3">Choose Date</font> </p></a>
					</div>

					<div class="progress-bar progress-bar-success " style="width:20%;" role="progressbar" aria-valuenow="0"
						 aria-valuemin="0" aria-valuemax="100">
						<a href="@Url.Action("Choose_Equipment","Reserve")" style="text-decoration:none;"><p style="font-family:Arial, Helvetica, sans-serif;padding-top:1em"> <font color="white" size="3">Choose Equipment</font></p></a>
					</div>
					<div class="progress-bar progress-bar-success progress-bar-striped active " style="width:20%;" role="progressbar" aria-valuenow="0"
						 aria-valuemin="0" aria-valuemax="100">
						<p style="font-family:Arial, Helvetica, sans-serif;padding-top:1em"> <font color="white" size="3">Summary</font> </p>

					</div>
				</div>


			</div>
		</center>

        <div class="container">
            <input type="hidden" id="ida" name="ida" />
            <input type="hidden" id="thm" name="thm" />
            <br />

            <div class="container">
                <label for="AmenityName">Amenity Name :</label>
            </div>

            <div class="container">
                <input type="text" id="amname" name="amname" disabled="disabled" value="@ViewBag.amenname" />
            </div>



            <br />

            <div class="container">
                <label for="Schedule">Schedule :</label>

            </div>

            <div class="container">
                <input type="datetime" id="stime" name="stime" disabled="disabled" value="@ViewBag.start" /> - <input type="datetime" id="etime" name="etime" disabled="disabled" value="@ViewBag.end" />
            </div>


            <input type="hidden" id="sta" name="sta" />
            <input type="hidden" id="eta" name="eta" />
            <br />

            @if (ViewBag.amenname == "Swimming Pool" || ViewBag.amenname == "SWIMMING POOL")
            {
                <div class="container">

                    <label>No. of Adult :</label><input type="number" id="qa" name="qa" value="@ViewBag.QA" disabled="disabled"> <label>Rate :</label> <input type="number" id="ar" name="ar" value="@ViewBag.AR" disabled="disabled">
                    <br />
                    <br />
                    <label> No. of Children :</label><input type="number" id="qc" name="qc" value="@ViewBag.QC" disabled="disabled"> <label>Rate :</label> <input type="number" id="cr" name="cr" value="@ViewBag.CR" disabled="disabled">
                </div>

            }
            else
            {
                <div class="container">
                    <label for="Price" name="lprice" id="lprice">Price :</label>
                </div>
                <div class="container">
                    <input type="text" id="aprice" name="aprice" disabled="disabled" value="@ViewBag.ratea" />
                </div>

                <input type="hidden" id="ap" name="ap" />

            }
            <br />
            <br />

            @{



                int ctr4 = 0;




                foreach (var eqp in Model)
                {

                    if (ViewBag.quan[ctr4] != 0)
                    {

                        <div class="container">
                            <label class="  text-center">@eqp.Name</label>                 
                        <br />                      
                            <label for="Quantity">Quantity :</label> <br />@Html.EditorFor(model => eqp.Stocks, new { htmlAttributes = new { @class = "form-group", @min = "0", @max = eqp.Stocks, @id = "quantity" + ctr4.ToString(), @required = "required", name = "quantity" + ctr4.ToString(), @Value = ViewBag.quan[ctr4], @disabled = "true" } })
                        <br />                 
                            <label for="Rate">Rate :</label> <br /> @Html.EditorFor(model => eqp.Rate, new { htmlAttributes = new { @class = "form-group", @disabled = "true", @id = "rate" + ctr4.ToString(), name = "rate" + ctr4.ToString(), @Value = ViewBag.rat[ctr4] } })
                        <br />
                            <label for="SubTotal">Sub Total :</label> <br /> @Html.EditorFor(model => eqp.Rate, new { htmlAttributes = new { @class = "form-group", @disabled = "true", @id = "stotal" + ctr4.ToString(), name = "stotal" + ctr4.ToString(), @Value = ViewBag.quan[ctr4] * ViewBag.rat[ctr4] } })
                        </div>
                        <br />
                    }
                    else if (ViewBag.quan[ctr4] is null)
                    {

                    }


                    ctr4++;

                }

            }
            <input type="hidden" value=@ctr4.ToString() ; id="txtctrr" name="txtctrr" />

            <div class="container">
                <label for="totalamount">Total Amount :</label><input type="text" class="form-group" id="total1" name="total1" value="@ViewBag.ratea" readonly />
            </div>

            <br />


            <button id="btnSubmit" name="btnSubmit" class="button" type="submit" style="float:left;">Submit</button>


        </div>



	</body>





	<script>
      var ctr = parseInt($('#txtctrr').val());
    var total = parseInt(@ViewBag.ratea);
    var totale=0;
    $(document).ready(function () {

        for (var pppp = 0; pppp <= ctr - 1; pppp++) {

            var quantity = $('#quantity' + pppp).val();
            var rate = $('#rate' + pppp).val()
            if (quantity != null) {
                totale = quantity * rate;
                total = total + totale;
            }



        }
        document.getElementById('total1').value = total;
    });

	</script>
}
<footer class="w3-center  w3-dark-gray w3-padding-16 w3-text-white " style="position:relative; left: 0; bottom: 0; width:100%; text-align:center; overflow:hidden;">
	<p>&copy; @DateTime.Now.Year -Palmdale Heights Condominium</p>
</footer>