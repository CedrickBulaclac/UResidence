@model UResidence.Tenant

@{
    ViewBag.Title = "TenantView";
}

<h2>TenantView</h2>

<div>
    <div class="btn-link">

        <a href="TenantAdd"><input id="btnAdd" type="button" value="ADD NEW TENANT" class="btn btn-success" /></a>

    </div>
    <hr />
    @using (Html.BeginForm("TenantView", "Tenant", FormMethod.Post))
    {
        @Html.AntiForgeryToken()
        <div class="dl-horizontal">
            <table class="table table-bordered table-striped">
                <thead>
                    <tr>
                        <th scope="col">@Html.DisplayNameFor(model => model.UnitNo)</th>
                        <th scope="row">@Html.DisplayNameFor(model => model.BldgNo)</th>
                        <th scope="row">@Html.DisplayNameFor(model => model.TenantNo)</th>
                        <th scope="row">  @Html.DisplayNameFor(model => model.Fname)  </th>
                        <th scope="row">  @Html.DisplayNameFor(model => model.Mname) </th>
                        <th scope="row"> @Html.DisplayNameFor(model => model.Lname) </th>
                        <th scope="row"> @Html.DisplayNameFor(model => model.Gender) </th>
                        <th scope="row">@Html.DisplayNameFor(model => model.Age)  </th>
                        <th scope="row"> @Html.DisplayNameFor(model => model.TelNo)  </th>
                        <th scope="row"> @Html.DisplayNameFor(model => model.CelNo)  </th>
                        <th scope="row"> @Html.DisplayNameFor(model => model.Email)  </th>
                        <th scope="row">@Html.DisplayNameFor(model => model.Citizenship)  </th>
                        <th scope="row">@Html.DisplayNameFor(model => model.Status)  </th>
                        <th scope="row"> @Html.DisplayNameFor(model => model.LeaseStart)  </th>
                        <th scope="row">  @Html.DisplayNameFor(model => model.LeaseEnd) </th>
                        <th scope="row">Actions</th>
                    </tr>
                </thead>


                @if (ViewBag.tenant != null)
    {
                <tbody>
                    @foreach (Tenant ten in ViewBag.tenant)
                    {

                    <tr scope="row">
                        <td>@Html.DisplayFor(model => ten.UnitNo)</td>
                        <td>@Html.DisplayFor(model => ten.BldgNo)  </td>
                        <td>@Html.DisplayFor(model => ten.TenantNo)  </td>
                        <td>@Html.DisplayFor(model => ten.Fname)  </td>
                        <td>@Html.DisplayFor(model => ten.Mname)  </td>
                        <td>@Html.DisplayFor(model => ten.Lname)</td>
                        <td>@Html.DisplayFor(model => ten.Gender)  </td>
                        <td>@Html.DisplayFor(model => ten.Age)  </td>
                        <td>@Html.DisplayFor(model => ten.TelNo)  </td>
                        <td>@Html.DisplayFor(model => ten.CelNo)  </td>
                        <td>@Html.DisplayFor(model => ten.Email)  </td>
                        <td>@Html.DisplayFor(model => ten.Citizenship)  </td>
                        <td>@Html.DisplayFor(model => ten.Status)  </td>
                        <td>@Html.DisplayFor(model => ten.LeaseStart)  </td>
                        <td>@Html.DisplayFor(model => ten.LeaseEnd)</td>
                        <td>
                            <a class="btn btn-link" href="@Url.Action("TenantEdit","Tenant", new { id = Convert.ToInt32(ten.Id) })"><i class="glyphicon glyphicon-edit"></i>EDIT</a>
                            <a class="btn btn-link" href="@Url.Action("Delete", "Tenant", new { id = Convert.ToInt32(ten.Id) })"><i class="glyphicon glyphicon-trash"></i> DELETE</a>
                        </td>
                    </tr>

                    }
                </tbody>
                }

            </table>
        </div>

        <div id="auerror" class="alert alert-danger collapse">
            <a href="#" class="close" data-dismiss="alert">&times;</a>
            <strong>Error!</strong> There is a problem updating a Tenant
        </div>
        <div id="ausuccess" class="alert alert-success collapse">
            <strong>Success!</strong> You have successfully updated a Tenant
        </div>
        <div id="aerror" class="alert alert-danger collapse">
            <a href="#" class="close" data-dismiss="alert">&times;</a>
            <strong>Error!</strong> There is a problem deleting your form
        </div>
        <div id="asuccess" class="alert alert-success collapse">
            <strong>Success!</strong> You have successfully deleted a Tenant
        </div>
        if (ViewBag.DeleteMessage != null)
        {
            if (ViewBag.DeleteMessage == true)
            {
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js">
                </script>
                <script type="text/javascript">
                    $(document).ready(function () {

                        $('#asuccess').show('fade');

                        setTimeout(function () {
                            $('#asuccess').hide('fade');
                        }, 2000);


                    });
                </script>

            }

            else
            {
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js">
                </script>
                <script type="text/javascript">
                    $(document).ready(function () {

                        $('#aerror').show('fade');

                        setTimeout(function () {
                            $('#aerror').hide('fade');
                        }, 2000);


                    });

                </script>
            }
            if (ViewBag.UpdateMessage != null)
            {
                if (ViewBag.UpdateMessage == true)
                {
                    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js">
                    </script>
                    <script type="text/javascript">
                        $(document).ready(function () {

                            $('#ausuccess').show('fade');

                            setTimeout(function () {
                                $('#ausuccess').hide('fade');
                            }, 2000);


                        });
                    </script>
                }

                else
                {
                    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js">
                    </script>
                    <script type="text/javascript">
                        $(document).ready(function () {

                            $('#auerror').show('fade');

                            setTimeout(function () {
                                $('#auerror').hide('fade');
                            }, 2000);


                        });
                    </script>
                }

            }
        }

    }
