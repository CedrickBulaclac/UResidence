@model List<UResidence.Admin>

@{
	Layout = "/Views/Layout/RegistrationLayout.cshtml";
	ViewBag.Title = "AdminView";
}

@*Scripts for dropdown*@
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<center>
	<h2>Admin</h2>
</center>



@using (Html.BeginForm("AdminView", "Admin", FormMethod.Post))
{
	@Html.AntiForgeryToken()

<div class="container">
	<hr />

	<table class=" table table-bordered table-striped">

		<thead>
			<tr>
				<th>First Name</th>
				<th>Middle Name</th>
				<th>Last Name</th>
				<th>Birthdate</th>
				<th>Cellphone No</th>
				<th>Email</th>
				<th>Role</th>
				<th>Actions</th>
			</tr>
		</thead>
		<tbody>
			@foreach (Admin a in Model)
			{

				<tr>

					<td>@Html.DisplayFor(model => a.Fname)</td>
					<td>@Html.DisplayFor(model => a.Mname)</td>
					<td>@Html.DisplayFor(model => a.Lname)</td>
					<td>@Html.DisplayFor(model => a.Bdate)</td>
					<td>@Html.DisplayFor(model => a.CelNo)</td>
					<td>@Html.DisplayFor(model => a.Email)</td>
					<td>@Html.DisplayFor(model => a.Role)</td>
					<td>
						<a class="btn btn-primary" href="@Url.Action("AdminEdit", "Admin", new { id = Convert.ToInt32(a.Id) })"><i class="glyphicon glyphicon-edit"></i></a>
						<a class="btn btn-danger" href="@Url.Action("Delete", "Admin", new { id = Convert.ToInt32(a.Id) })"><i class="glyphicon glyphicon-trash"></i> </a>
					</td>
				</tr>


			}
		</tbody>
	</table>

	<div class="form-inline">

		<a href="@Url.Action("Registration", "Admin")"><input id="btnAdd" type="button" value="ADD NEW ADMIN" @*style="margin-left:150px;"*@ class="btn btn-success" /></a>
		<a class="btn btn-default" href="@Url.Action("Download","Admin")">Download List of Admin</a>
	</div>

	
</div>

	
	<div id="auerror" class="alert alert-danger collapse">
		<a href="#" class="close" data-dismiss="alert">&times;</a>
		<strong>Error!</strong> There is a problem updating the Admin
	</div>
	<div id="ausuccess" class="alert alert-success collapse">
		<strong>Success!</strong> You have successfully updated the Admin
	</div>


	<div id="aerror" class="alert alert-danger collapse">
		<a href="#" class="close" data-dismiss="alert">&times;</a>
		<strong>Error!</strong> There is a problem deleting the Admin
	</div>
	<div id="asuccess" class="alert alert-success collapse">
		<strong>Success!</strong> You have successfully deleted the Admin
	</div>


	<div id="aaerror" class="alert alert-danger collapse">
		<a href="#" class="close" data-dismiss="alert">&times;</a>
		<strong>Error!</strong> There is a problem submitting your form
	</div>
	<div id="aasuccess" class="alert alert-success collapse">
		<strong>Success!</strong> You have successfully added a Admin
	</div>

	if (ViewBag.DeleteStatus != null)
	{
		if (ViewBag.DeleteStatus == true)
		{
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js">
			</script>
			<script type="text/javascript">
				$(document).ready(function () {

					$('#asuccess').show('fade');

					setTimeout(function () {
						$('#asuccess').hide('fade');
					}, 2000);
				});
			</script>
		}

		else
		{
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js">
			</script>
			<script type="text/javascript">
				$(document).ready(function () {

					$('#aerror').show('fade');

					setTimeout(function () {
						$('#aerror').hide('fade');
					}, 2000);


				});
			</script>
		}
	}

	if (ViewBag.UpdateMessage != null)
	{
		if (ViewBag.UpdateMessage == true)
		{
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js">
			</script>
			<script type="text/javascript">
				$(document).ready(function () {

					$('#ausuccess').show('fade');

					setTimeout(function () {
						$('#ausuccess').hide('fade');
					}, 2000);


				});
			</script>
		}

		else
		{
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js">
			</script>
			<script type="text/javascript">
				$(document).ready(function () {

					$('#auerror').show('fade');

					setTimeout(function () {
						$('#auerror').hide('fade');
					}, 2000);


				});
			</script>
		}
	}

	if (ViewBag.AddMessage != null)
	{
		if (ViewBag.AddMessage == true)
		{

			<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js">
			</script>
			<script type="text/javascript">

				$(document).ready(function () {

					$('#aasuccess').show('fade');

					setTimeout(function () {
						$('#aasuccess').hide('fade');
					}, 20000);

				});
			</script>
		}

		else
		{
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js">
			</script>
			<script type="text/javascript">

				$(document).ready(function () {

					$('#aaerror').show('fade');

					setTimeout(function () {
						$('#aaerror').hide('fade');
					}, 2000);


				});
			</script>

		}

	}
}
<script>
    function Download() {
        $.post("/Admin/Download");
    }
</script>
